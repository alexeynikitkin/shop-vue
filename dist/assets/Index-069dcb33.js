import{_ as w,r as x,o as l,c as a,a as t,F as v,b as f,d as _,h,t as u,e as C,f as b,w as y,i as S,v as P,g,n as k,j as I,p as q,k as N}from"./index-1113b426.js";import{_ as F}from"./product-categories-v1-img1-901f2b2e.js";const V={name:"Index",mounted(){$(document).trigger("changed"),this.getProducts(),this.getFilterList(),this.getCats()},data(){return{products:[],popupProduct:null,filterList:[],categories:[],colors:[],tags:[],prices:[],pagination:[],attrs:[],value:1}},methods:{getProducts(o=1){this.axios.post("https://karte.studiopresto.dev/api/products",{categories:this.categories,tags:this.tags,prices:this.prices,colors:this.colors,page:o}).then(s=>{this.products=s.data.data,this.pagination=s.data.meta,$(document).trigger("changed"),console.log("Products",this.products)}).finally(s=>{$(document).trigger("changed")})},changePrice(o=null,s=null){if(o!==null&&s!==null){let c=parseFloat(s);$(".popup-right-content h2 .price").text(c.toFixed(2))}return parseFloat($(".popup-right-content h2 .price").text()).toFixed(2)},getProduct(o){this.axios.get(`https://karte.studiopresto.dev/api/products/${o}`).then(s=>{this.popupProduct=s.data.data,localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]")}).finally(s=>{})},getFilterList(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(o=>{this.filterList=o.data,$("#price-range").length&&($("#price-range").slider({range:!0,min:this.filterList.price.min,max:this.filterList.price.max,values:[this.filterList.price.min,this.filterList.price.max],slide:function(s,c){$("#priceRange").val("$"+c.values[0]+" - $"+c.values[1])}}),$("#priceRange").val("$"+$("#price-range").slider("values",0)+" - $"+$("#price-range").slider("values",1)))}).finally(o=>{$(document).trigger("changed")})},getCats(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(o=>{this.attrs=o.data.categories}).finally(o=>{$(document).trigger("changed")})},filterProducts(){$(document).trigger("changed");let o=$("#priceRange").val();o=o.replace(/[\s+]|[$]/g,"").split("-"),this.prices=o,this.getProducts()},addColor(o,s){let c=s.target;console.log(c),$(c).hasClass("active")?$(c).removeClass("active"):$(c).addClass("active"),this.colors.includes(o)?this.colors=this.colors.filter(p=>p!==o):this.colors.push(o)},addTag(o,s){let c=s.target;console.log(c),$(c).hasClass("active")?$(c).removeClass("active"):$(c).addClass("active"),this.tags.includes(o)?this.tags=this.tags.filter(p=>p!==o):this.tags.push(o)},addToCart(o,s){localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]"),s&&$(".qtyValue").val(1);let c=localStorage.getItem("cart"),p=$(".qtyValue").val()?$(".qtyValue").val():1;$(".qtyValue").val(1);let e=[{id:o.id,image_url:o.image_url,title:o.title,price:o.price,qty:p,size:o.size,color:o.color,stock:o.stock}];c?(c=JSON.parse(c),c.forEach(r=>{r.id===o.id&&(r.qty=Number(r.qty)+Number(p),e=null)}),Array.prototype.push.apply(c,e),localStorage.setItem("cart",JSON.stringify(c))):(localStorage.setItem("cart",JSON.stringify(e)),$(".cart-icon span").text(e.length)),$(".cart-icon span").text(c.length),window.location.reload()},addToWishlist(o){localStorage.getItem("wishlist")==null&&localStorage.setItem("wishlist","[]");let s=localStorage.getItem("wishlist"),c=[{id:o.id,image_url:o.image_url,title:o.title,price:o.price,stock:o.stock,qty:o.qty}];s?(s=JSON.parse(s),this.ifInclude(o)||Array.prototype.push.apply(s,c),localStorage.setItem("wishlist",JSON.stringify(s))):localStorage.setItem("wishlist",JSON.stringify(c)),$(".wish-icon span").text(s.length),window.location.reload()},ifInclude(o){let s=localStorage.getItem("wishlist");s=JSON.parse(s);let c=!1;return s&&s.forEach(p=>{p.id===o.id&&(c=!0)}),c},getProductFromCart(o){if(localStorage.getItem("cart")!=null){var s=JSON.parse(localStorage.getItem("cart")).filter(p=>p.id==o);return Object.keys(s).length>0?s[0].qty:0}},increaseQty(o){let s=o.target;localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]"),$(s).closest(".qtySelector").attr("data-stock")==$(s).closest(".qtySelector").attr("data-cart-qty")&&$(s).closest(".qtySelector").find(".qtyValue").val(0);let c=$(s).closest(".qtySelector").attr("data-stock"),p=$(s).closest(".qtySelector").attr("data-cart-qty");var e=$(s).closest(".qtySelector"),r=c-p,m=e.find(".qtyValue").val();m<r&&(m=parseInt(m)+1),e.find(".qtyValue").val(m)},decreaseQty(o){let s=o.target;localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]");var c=$(s).closest(".qtySelector"),p=c.find(".qtyValue").val();p>1&&(p=parseInt(p)-1),c.find(".qtyValue").val(p)}}},d=o=>(q("data-v-358f72f1"),o=o(),N(),o),O={class:"overflow-hidden"},L=C('<section class="breadcrumb-area" style="background-image:url(/src/assets/images/inner-pages/breadcum-bg.png);" data-v-358f72f1><div class="container" data-v-358f72f1><div class="row" data-v-358f72f1><div class="col-xl-12" data-v-358f72f1><div class="breadcrumb-content pb-60 text-center wow fadeInUp animated" data-v-358f72f1><h2 data-v-358f72f1>Shop Grid</h2><div class="breadcrumb-menu" data-v-358f72f1><ul data-v-358f72f1><li data-v-358f72f1><a href="index.html" data-v-358f72f1><i class="flaticon-home pe-2" data-v-358f72f1></i>Home</a></li><li data-v-358f72f1><i class="flaticon-next" data-v-358f72f1></i></li><li class="active" data-v-358f72f1>Shop Grid</li></ul></div></div></div></div></div></section>',1),U={class:"product-categories-one pb-60"},T={class:"container"},E={class:"row wow fadeInUp animated"},j={class:"col-xl-12"},J={key:0,class:"product-categories-one__inner"},Q={class:"inner"},z=["alt"],R={class:"title"},A={class:"product-grid pt-60 pb-120"},B={class:"container"},D={class:"row gx-4"},W={class:"col-xl-3 col-lg-4"},G={class:"shop-grid-sidebar"},M=d(()=>t("button",{class:"remove-sidebar d-lg-none d-block"},[t("i",{class:"flaticon-cross"})],-1)),H={class:"sidebar-holder"},K={class:"single-sidebar-box mt-30 wow fadeInUp animated"},X=d(()=>t("h4",null,"Select Categories",-1)),Y={class:"checkbox-item"},Z={class:"form-group"},tt=["value","id"],et=["for"],st={class:"single-sidebar-box mt-30 wow fadeInUp animated"},it=d(()=>t("h4",null,"Color Option ",-1)),ot={class:"color-option color-option1"},lt={class:"li"},at=["onClick"],ct={class:"single-sidebar-box mt-30 wow fadeInUp animated pb-0 border-bottom-0"},nt=d(()=>t("h4",null,"Tags ",-1)),rt={class:"popular-tag popular-tag1"},dt={class:"li"},ut=["onClick"],pt={class:"single-sidebar-box mt-30 wow fadeInUp animated"},_t=d(()=>t("h4",null,"Filter By Price",-1)),ht={class:"slider-box"},gt=d(()=>t("div",{id:"price-range",class:"slider"},null,-1)),vt=d(()=>t("div",{class:"output-price"},[t("label",{for:"priceRange"},"Price:"),g(),t("input",{type:"text",id:"priceRange",readonly:""})],-1)),ft={class:"col-xl-9 col-lg-8"},mt={class:"row"},bt={class:"col-xl-12"},yt={class:"shop-grid-page-top-info p-0 justify-content-md-between justify-content-center"},kt={class:"left-box wow fadeInUp animated"},wt=d(()=>t("div",{class:"right-box justify-content-md-between justify-content-center wow fadeInUp animated"},null,-1)),xt={class:"row"},Ct={class:"col-12"},St={class:"tab-content",id:"pills-tabContent"},Pt={class:"tab-pane fade show active",id:"pills-grid",role:"tabpanel","aria-labelledby":"pills-grid-tab"},It={class:"row"},qt={class:"col-xl-4 col-lg-6 col-6"},Nt={class:"products-three-single w-100 mt-30"},Ft={key:0,class:"products-three-single-img"},Vt=["src","alt"],Ot=["src","alt"],Lt={key:0,class:"products-grid-one__badge-box"},Ut={class:"bg_base badge new"},Tt=["onClick"],Et={key:2,class:"addcart btn--primary style2"},jt={class:"products-grid__usefull-links"},Jt=["onClick"],Qt=d(()=>t("i",{class:"flaticon-heart"},null,-1)),zt=d(()=>t("span",null," wishlist",-1)),Rt=["onClick"],At=d(()=>t("i",{class:"flaticon-heart"},null,-1)),Bt=d(()=>t("span",null," wishlist",-1)),Dt=["onClick","href"],Wt=d(()=>t("i",{class:"flaticon-visibility"},null,-1)),Gt=d(()=>t("span",null," quick view",-1)),Mt=[Wt,Gt],Ht=["id"],Kt={key:0,class:"container"},Xt={class:"row justify-content-between align-items-center"},Yt={class:"col-lg-6"},Zt={key:0,class:"quick-view__left-content"},$t={class:"popup-product-single-image"},te=["src"],ee={key:1,class:"quick-view__left-content"},se={class:"tabs"},ie={class:"popup-product-thumb-box"},oe={class:"tab-nav popup-product-thumb"},le=["href"],ae=["src"],ce={class:"popup-product-main-image-box"},ne=["id"],re={class:"popup-product-single-image"},de=["src"],ue=d(()=>t("button",{class:"prev"},[t("i",{class:"flaticon-back"})],-1)),pe=d(()=>t("button",{class:"next"},[t("i",{class:"flaticon-next"})],-1)),_e={class:"col-lg-6"},he={class:"popup-right-content"},ge={class:"text"},ve={class:"price"},fe={class:"price"},me={key:0},be={key:1},ye={class:"color-varient"},ke=["onClick","href"],we={class:"add-product"},xe={key:0},Ce=d(()=>t("br",null,null,-1)),Se={key:1,class:"button-group"},Pe=["data-stock","data-cart-qty"],Ie=d(()=>t("i",{class:"flaticon-minus"},null,-1)),qe=[Ie],Ne=["value"],Fe=d(()=>t("i",{class:"flaticon-plus"},null,-1)),Ve=[Fe],Oe={key:2,class:"button-group"},Le=d(()=>t("p",{class:"btn--primary"}," Out of Stock ",-1)),Ue=[Le],Te={class:"products-three-single-content text-center"},Ee={class:"price"},je={key:0,class:"row"},Je={class:"col-12 d-flex justify-content-center wow fadeInUp animated"},Qe={class:"pagination text-center"},ze={key:0,class:"next"},Re=d(()=>t("i",{class:"flaticon-left-arrows","aria-hidden":"true"},null,-1)),Ae=[Re],Be=["onClick"],De={key:1},We={key:1,class:"next"},Ge=d(()=>t("i",{class:"flaticon-next-1","aria-hidden":"true"},null,-1)),Me=[Ge];function He(o,s,c,p,e,r){const m=x("router-link");return l(),a("div",null,[t("main",O,[L,t("section",U,[t("div",T,[t("div",E,[t("div",j,[e.attrs?(l(),a("div",J,[t("ul",null,[(l(!0),a(v,null,f(e.attrs,i=>(l(),a("li",null,[b(m,{to:{name:"categories.show",params:{id:i.id}},class:"img-box"},{default:y(()=>[t("div",Q,[t("img",{src:F,alt:i.title},null,8,z)])]),_:2},1032,["to"]),t("div",R,[b(m,{to:{name:"categories.show",params:{id:i.id}}},{default:y(()=>[t("h6",null,u(i.title),1)]),_:2},1032,["to"])])]))),256))])])):_("",!0)])])])]),t("div",A,[t("div",B,[t("div",D,[t("div",W,[t("div",G,[M,t("div",H,[t("div",K,[X,t("div",Y,[t("form",null,[(l(!0),a(v,null,f(e.filterList.categories,i=>(l(),a("div",Z,[S(t("input",{value:i.id,"onUpdate:modelValue":s[0]||(s[0]=n=>e.categories=n),type:"checkbox",id:i.id},null,8,tt),[[P,e.categories]]),g(),t("label",{for:i.id},u(i.title),9,et)]))),256))])])]),t("div",st,[it,t("ul",ot,[(l(!0),a(v,null,f([...new Set(this.filterList.colors)],i=>(l(),a("li",lt,[t("a",{onClick:n=>r.addColor(i,n),class:"color-option-single",style:k(`background: ${i}`)},[t("span",null,u(i),1)],12,at)]))),256))])]),t("div",ct,[nt,t("ul",rt,[(l(!0),a(v,null,f(e.filterList.tags,i=>(l(),a("li",dt,[t("a",{onClick:n=>r.addTag(i.id,n)},u(i.title),9,ut)]))),256))])]),t("div",pt,[_t,t("div",ht,[gt,vt,t("button",{onClick:s[1]||(s[1]=h(i=>r.filterProducts(),["prevent"])),class:"filterbtn",type:"submit"}," Filter ")])])])])]),t("div",ft,[t("div",mt,[t("div",bt,[t("div",yt,[t("div",kt,[t("p",null,"Showing "+u(e.products.length)+" of "+u(e.pagination.total)+" Results",1)]),wt])])]),t("div",xt,[t("div",Ct,[t("div",St,[t("div",Pt,[t("div",It,[(l(!0),a(v,null,f(e.products,i=>(l(),a("div",qt,[t("div",Nt,[i?(l(),a("div",Ft,[t("img",{src:i.image_url,class:"first-img",alt:i.title},null,8,Vt),t("img",{src:i.image_url,style:{filter:"grayscale(1)"},alt:i.title,class:"hover-img"},null,8,Ot),i.tags?(l(),a("div",Lt,[(l(!0),a(v,null,f(i.tags,n=>(l(),a("span",Ut,u(n.title),1))),256))])):_("",!0),i.stock!=r.getProductFromCart(i.id)?(l(),a("a",{key:1,onClick:h(n=>r.addToCart(i,!0),["prevent"]),href:"#",class:"addcart btn--primary style2"}," Add To Cart ",8,Tt)):(l(),a("p",Et," Out Of Stock ")),t("div",jt,[t("ul",null,[t("li",null,[r.ifInclude(i)?(l(),a("a",{key:0,onClick:h(n=>r.addToWishlist(i),["prevent"]),style:{background:"var(--thm-base)"},href:""},[Qt,g(),zt],8,Jt)):(l(),a("a",{key:1,onClick:h(n=>r.addToWishlist(i),["prevent"]),href:""},[At,g(),Bt],8,Rt))]),t("li",null,[t("a",{onClick:n=>r.getProduct(i.id),href:`#popup${i.id}`,class:"popup_link"},Mt,8,Dt)])])])])):_("",!0),t("div",{id:`popup${i.id}`,class:"product-gird__quick-view-popup mfp-hide"},[e.popupProduct?(l(),a("div",Kt,[t("div",Xt,[t("div",Yt,[e.popupProduct.product_images.length==0?(l(),a("div",Zt,[t("div",$t,[t("img",{src:e.popupProduct.image_url,alt:""},null,8,te)])])):_("",!0),e.popupProduct.product_images.length>2?(l(),a("div",ee,[t("div",se,[t("div",ie,[t("ul",null,[(l(!0),a(v,null,f(e.popupProduct.product_images,n=>(l(),a("li",oe,[t("a",{href:`#tabb${n.id}`},[t("img",{src:n.file_path,alt:""},null,8,ae)],8,le)]))),256))])]),t("div",ce,[(l(!0),a(v,null,f(e.popupProduct.product_images,n=>(l(),a("div",{id:`tabb${n.id}`,class:"tab-item popup-product-image"},[t("div",re,[t("img",{src:n.file_path,alt:""},null,8,de)])],8,ne))),256)),ue,pe])])])):_("",!0)]),t("div",_e,[t("div",he,[t("h3",null,u(e.popupProduct.title),1),t("p",ge,u(e.popupProduct.description),1),t("div",ve,[t("h2",null,[g(" $"),t("span",fe,u(e.popupProduct.price),1),g(" USD "),t("del",null,u(parseInt(e.popupProduct.price)+10)+" USD",1)]),e.popupProduct.stock>0?(l(),a("h6",me," In stock")):(l(),a("h6",be," Out of stock"))]),t("div",ye,[(l(!0),a(v,null,f(e.popupProduct.group,n=>(l(),a("a",{onClick:h(Ke=>r.getProduct(n.id),["prevent"]),style:k(`background: ${n.color};`),href:`#popup${n.id}`,class:"color-name"},[t("span",null,"color:"+u(n.color)+", size: "+u(n.size),1)],12,ke))),256))]),t("div",we,[e.popupProduct.stock>0?(l(),a("h6",xe,[g("Qty: "+u(e.popupProduct.stock-r.getProductFromCart(e.popupProduct.id)),1),Ce,g(" In cart "+u(r.getProductFromCart(e.popupProduct.id)),1)])):_("",!0),e.popupProduct.stock!=r.getProductFromCart(e.popupProduct.id)?(l(),a("div",Se,[t("div",{class:"qtySelector text-center","data-stock":e.popupProduct.stock,"data-cart-qty":r.getProductFromCart(e.popupProduct.id)},[t("span",{class:"decreaseQty",onClick:s[2]||(s[2]=h(n=>r.decreaseQty(n),["prevent"]))},qe),t("input",{type:"number",class:"qtyValue",value:e.value},null,8,Ne),t("span",{class:"increaseQty",onClick:s[3]||(s[3]=h(n=>r.increaseQty(n),["prevent"]))},Ve)],8,Pe),e.popupProduct.stock!=r.getProductFromCart(e.popupProduct.id)?(l(),a("button",{key:0,class:"btn--primary",onClick:s[4]||(s[4]=h(n=>r.addToCart(e.popupProduct),["prevent"]))}," Add to Cart ")):_("",!0)])):(l(),a("div",Oe,Ue))])])])])])):_("",!0)],8,Ht),t("div",Te,[t("span",null,[b(m,{to:{name:"categories.show",params:{id:i.category.id}}},{default:y(()=>[g(u(i.category.title),1)]),_:2},1032,["to"])]),t("h5",null,[b(m,{to:{name:"products.show",params:{id:i.id}}},{default:y(()=>[g(u(i.title),1)]),_:2},1032,["to"])]),t("p",null,[t("del",null,"$"+u(parseInt(i.price)+10),1),g(" $"),t("span",Ee,u(i.price),1)])])])]))),256))])])])])]),e.pagination.last_page>1?(l(),a("div",je,[t("div",Je,[t("ul",Qe,[e.pagination.current_page!==1?(l(),a("li",ze,[t("a",{onClick:s[5]||(s[5]=h(i=>r.getProducts(e.pagination.current_page-1),["prevent"])),href:""},Ae)])):_("",!0),(l(!0),a(v,null,f(e.pagination.links,i=>(l(),a("li",null,[Number(i.label)&&e.pagination.current_page-i.label<2&&e.pagination.current_page-i.label>-2||Number(i.label)===1||Number(i.label)===e.pagination.last_page?(l(),a("a",{key:0,onClick:h(n=>r.getProducts(i.label),["prevent"]),class:I(i.active?"active":""),href:""},u(i.label),11,Be)):_("",!0),Number(i.label)&&e.pagination.current_page!==3&&e.pagination.current_page-i.label===2||Number(i.label)&&e.pagination.current_page!==e.pagination.last_page-2&&e.pagination.current_page-i.label===-2?(l(),a("a",De,"...")):_("",!0)]))),256)),e.pagination.current_page!==e.pagination.last_page?(l(),a("li",We,[t("a",{onClick:s[6]||(s[6]=h(i=>r.getProducts(e.pagination.current_page+1),["prevent"])),href:""},Me)])):_("",!0)])])])):_("",!0)])])])])])])}const Ze=w(V,[["render",He],["__scopeId","data-v-358f72f1"]]);export{Ze as default};
