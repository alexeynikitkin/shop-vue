import{_ as k,r as w,o as l,c,a as t,F as g,b as v,d as p,h as _,t as d,e as x,g as h,f,w as b,i as P,v as S,n as y,j as C}from"./index-0bf3b11c.js";import{_ as I}from"./product-categories-v1-img1-901f2b2e.js";const q={name:"Index",mounted(){$(document).trigger("changed"),this.getProducts(),this.getFilterList(),this.getCats()},data(){return{products:[],popupProduct:null,filterList:[],categories:[],colors:[],tags:[],prices:[],pagination:[],attrs:[],value:1}},methods:{getProducts(o=1){this.axios.post("https://karte.studiopresto.dev/api/products",{categories:this.categories,tags:this.tags,prices:this.prices,colors:this.colors,page:o}).then(i=>{this.products=i.data.data,this.pagination=i.data.meta,$(document).trigger("changed"),console.log("Products",this.products)}).finally(i=>{$(document).trigger("changed")})},changePrice(o=null,i=null){if(o!==null&&i!==null){let r=parseFloat(i);$(".popup-right-content h2 .price").text(r.toFixed(2))}return parseFloat($(".popup-right-content h2 .price").text()).toFixed(2)},getProduct(o){this.axios.get(`https://karte.studiopresto.dev/api/products/${o}`).then(i=>{this.popupProduct=i.data.data,localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]")}).finally(i=>{})},getFilterList(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(o=>{this.filterList=o.data,$("#price-range").length&&($("#price-range").slider({range:!0,min:this.filterList.price.min,max:this.filterList.price.max,values:[this.filterList.price.min,this.filterList.price.max],slide:function(i,r){$("#priceRange").val("$"+r.values[0]+" - $"+r.values[1])}}),$("#priceRange").val("$"+$("#price-range").slider("values",0)+" - $"+$("#price-range").slider("values",1)))}).finally(o=>{$(document).trigger("changed")})},getCats(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(o=>{this.attrs=o.data.categories}).finally(o=>{$(document).trigger("changed")})},filterProducts(){$(document).trigger("changed");let o=$("#priceRange").val();o=o.replace(/[\s+]|[$]/g,"").split("-"),this.prices=o,this.getProducts()},addColor(o){this.colors.includes(o)?this.colors=this.colors.filter(i=>i!==o):this.colors.push(o)},addTag(o){this.tags.includes(o)?this.tags=this.tags.filter(i=>i!==o):this.tags.push(o)},addToCart(o,i){localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]"),i&&$(".qtyValue").val(1);let r=localStorage.getItem("cart"),u=$(".qtyValue").val()?$(".qtyValue").val():1;$(".qtyValue").val(1);let s=[{id:o.id,image_url:o.image_url,title:o.title,price:o.price,qty:u,size:o.size,color:o.color,stock:o.stock}];r?(r=JSON.parse(r),r.forEach(n=>{n.id===o.id&&(n.qty=Number(n.qty)+Number(u),s=null)}),Array.prototype.push.apply(r,s),localStorage.setItem("cart",JSON.stringify(r))):(localStorage.setItem("cart",JSON.stringify(s)),$(".cart-icon span").text(s.length)),$(".cart-icon span").text(r.length),window.location.reload()},addToWishlist(o){localStorage.getItem("wishlist")==null&&localStorage.setItem("wishlist","[]");let i=localStorage.getItem("wishlist"),r=[{id:o.id,image_url:o.image_url,title:o.title,price:o.price,stock:o.stock,qty:o.qty}];i?(i=JSON.parse(i),this.ifInclude(o)||Array.prototype.push.apply(i,r),localStorage.setItem("wishlist",JSON.stringify(i))):localStorage.setItem("wishlist",JSON.stringify(r)),$(".wish-icon span").text(i.length),window.location.reload()},ifInclude(o){let i=localStorage.getItem("wishlist");i=JSON.parse(i);let r=!1;return i&&i.forEach(u=>{u.id===o.id&&(r=!0)}),r},getProductFromCart(o){if(localStorage.getItem("cart")!=null){var i=JSON.parse(localStorage.getItem("cart")).filter(u=>u.id==o);return Object.keys(i).length>0?i[0].qty:0}},increaseQty(o){let i=o.target;localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]"),$(i).closest(".qtySelector").attr("data-stock")==$(i).closest(".qtySelector").attr("data-cart-qty")&&$(i).closest(".qtySelector").find(".qtyValue").val(0);let r=$(i).closest(".qtySelector").attr("data-stock"),u=$(i).closest(".qtySelector").attr("data-cart-qty");var s=$(i).closest(".qtySelector"),n=r-u,m=s.find(".qtyValue").val();m<n&&(m=parseInt(m)+1),s.find(".qtyValue").val(m)},decreaseQty(o){let i=o.target;localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]");var r=$(i).closest(".qtySelector"),u=r.find(".qtyValue").val();u>1&&(u=parseInt(u)-1),r.find(".qtyValue").val(u)}}},N={class:"overflow-hidden"},F=x('<section class="breadcrumb-area" style="background-image:url(/src/assets/images/inner-pages/breadcum-bg.png);"><div class="container"><div class="row"><div class="col-xl-12"><div class="breadcrumb-content pb-60 text-center wow fadeInUp animated"><h2>Shop Grid</h2><div class="breadcrumb-menu"><ul><li><a href="index.html"><i class="flaticon-home pe-2"></i>Home</a></li><li><i class="flaticon-next"></i></li><li class="active">Shop Grid</li></ul></div></div></div></div></div></section>',1),V={class:"product-categories-one pb-60"},O={class:"container"},L={class:"row wow fadeInUp animated"},U={class:"col-xl-12"},T={key:0,class:"product-categories-one__inner"},j={class:"inner"},J=["alt"],Q={class:"title"},E={class:"product-grid pt-60 pb-120"},z={class:"container"},R={class:"row gx-4"},A={class:"col-xl-3 col-lg-4"},B={class:"shop-grid-sidebar"},D=t("button",{class:"remove-sidebar d-lg-none d-block"},[t("i",{class:"flaticon-cross"})],-1),W={class:"sidebar-holder"},G={class:"single-sidebar-box mt-30 wow fadeInUp animated"},M=t("h4",null,"Select Categories",-1),H={class:"checkbox-item"},K={class:"form-group"},X=["value","id"],Y=["for"],Z={class:"single-sidebar-box mt-30 wow fadeInUp animated"},tt=t("h4",null,"Color Option ",-1),et={class:"color-option"},st=["onClick","href"],it={class:"single-sidebar-box mt-30 wow fadeInUp animated pb-0 border-bottom-0"},ot=t("h4",null,"Tags ",-1),lt={class:"popular-tag"},ct=["onClick","href"],nt={class:"single-sidebar-box mt-30 wow fadeInUp animated"},at=t("h4",null,"Filter By Price",-1),rt={class:"slider-box"},dt=t("div",{id:"price-range",class:"slider"},null,-1),ut=t("div",{class:"output-price"},[t("label",{for:"priceRange"},"Price:"),h(),t("input",{type:"text",id:"priceRange",readonly:""})],-1),pt={class:"col-xl-9 col-lg-8"},_t={class:"row"},ht={class:"col-xl-12"},gt={class:"shop-grid-page-top-info p-0 justify-content-md-between justify-content-center"},vt={class:"left-box wow fadeInUp animated"},mt=t("div",{class:"right-box justify-content-md-between justify-content-center wow fadeInUp animated"},null,-1),ft={class:"row"},bt={class:"col-12"},yt={class:"tab-content",id:"pills-tabContent"},kt={class:"tab-pane fade show active",id:"pills-grid",role:"tabpanel","aria-labelledby":"pills-grid-tab"},wt={class:"row"},xt={class:"col-xl-4 col-lg-6 col-6"},Pt={class:"products-three-single w-100 mt-30"},St={key:0,class:"products-three-single-img"},Ct=["src","alt"],It=["src","alt"],qt={key:0,class:"products-grid-one__badge-box"},Nt={class:"bg_base badge new"},Ft=["onClick"],Vt={key:2,class:"addcart btn--primary style2"},Ot={class:"products-grid__usefull-links"},Lt=["onClick"],Ut=t("i",{class:"flaticon-heart"},null,-1),Tt=t("span",null," wishlist",-1),jt=["onClick"],Jt=t("i",{class:"flaticon-heart"},null,-1),Qt=t("span",null," wishlist",-1),Et=["onClick","href"],zt=t("i",{class:"flaticon-visibility"},null,-1),Rt=t("span",null," quick view",-1),At=[zt,Rt],Bt=["id"],Dt={key:0,class:"container"},Wt={class:"row justify-content-between align-items-center"},Gt={class:"col-lg-6"},Mt={key:0,class:"quick-view__left-content"},Ht={class:"popup-product-single-image"},Kt=["src"],Xt={key:1,class:"quick-view__left-content"},Yt={class:"tabs"},Zt={class:"popup-product-thumb-box"},$t={class:"tab-nav popup-product-thumb"},te=["href"],ee=["src"],se={class:"popup-product-main-image-box"},ie=["id"],oe={class:"popup-product-single-image"},le=["src"],ce=t("button",{class:"prev"},[t("i",{class:"flaticon-back"})],-1),ne=t("button",{class:"next"},[t("i",{class:"flaticon-next"})],-1),ae={class:"col-lg-6"},re={class:"popup-right-content"},de={class:"text"},ue={class:"price"},pe={class:"price"},_e={key:0},he={key:1},ge={class:"color-varient"},ve=["onClick","href"],me={class:"add-product"},fe={key:0},be=t("br",null,null,-1),ye={key:1,class:"button-group"},ke=["data-stock","data-cart-qty"],we=t("i",{class:"flaticon-minus"},null,-1),xe=[we],Pe=["value"],Se=t("i",{class:"flaticon-plus"},null,-1),Ce=[Se],Ie={key:2,class:"button-group"},qe=t("p",{class:"btn--primary"}," Out of Stock ",-1),Ne=[qe],Fe={class:"products-three-single-content text-center"},Ve={class:"price"},Oe={key:0,class:"row"},Le={class:"col-12 d-flex justify-content-center wow fadeInUp animated"},Ue={class:"pagination text-center"},Te={key:0,class:"next"},je=t("i",{class:"flaticon-left-arrows","aria-hidden":"true"},null,-1),Je=[je],Qe=["onClick"],Ee={key:1},ze={key:1,class:"next"},Re=t("i",{class:"flaticon-next-1","aria-hidden":"true"},null,-1),Ae=[Re];function Be(o,i,r,u,s,n){const m=w("router-link");return l(),c("div",null,[t("main",N,[F,t("section",V,[t("div",O,[t("div",L,[t("div",U,[s.attrs?(l(),c("div",T,[t("ul",null,[(l(!0),c(g,null,v(s.attrs,e=>(l(),c("li",null,[f(m,{to:{name:"categories.show",params:{id:e.id}},class:"img-box"},{default:b(()=>[t("div",j,[t("img",{src:I,alt:e.title},null,8,J)])]),_:2},1032,["to"]),t("div",Q,[f(m,{to:{name:"categories.show",params:{id:e.id}}},{default:b(()=>[t("h6",null,d(e.title),1)]),_:2},1032,["to"])])]))),256))])])):p("",!0)])])])]),t("div",E,[t("div",z,[t("div",R,[t("div",A,[t("div",B,[D,t("div",W,[t("div",G,[M,t("div",H,[t("form",null,[(l(!0),c(g,null,v(s.filterList.categories,e=>(l(),c("div",K,[P(t("input",{value:e.id,"onUpdate:modelValue":i[0]||(i[0]=a=>s.categories=a),type:"checkbox",id:e.id},null,8,X),[[S,s.categories]]),h(),t("label",{for:e.id},d(e.title),9,Y)]))),256))])])]),t("div",Z,[tt,t("ul",et,[(l(!0),c(g,null,v([...new Set(this.filterList.colors)],e=>(l(),c("li",null,[t("a",{onClick:_(a=>n.addColor(e),["prevent"]),href:`#${e}`,class:"color-option-single",style:y(`background: ${e}`)},[t("span",null,d(e),1)],12,st)]))),256))])]),t("div",it,[ot,t("ul",lt,[(l(!0),c(g,null,v(s.filterList.tags,e=>(l(),c("li",null,[t("a",{onClick:_(a=>n.addTag(e.id),["prevent"]),href:`#${e.id}`},d(e.title),9,ct)]))),256))])]),t("div",nt,[at,t("div",rt,[dt,ut,t("button",{onClick:i[1]||(i[1]=_(e=>n.filterProducts(),["prevent"])),class:"filterbtn",type:"submit"}," Filter ")])])])])]),t("div",pt,[t("div",_t,[t("div",ht,[t("div",gt,[t("div",vt,[t("p",null,"Showing "+d(s.products.length)+" of "+d(s.pagination.total)+" Results",1)]),mt])])]),t("div",ft,[t("div",bt,[t("div",yt,[t("div",kt,[t("div",wt,[(l(!0),c(g,null,v(s.products,e=>(l(),c("div",xt,[t("div",Pt,[e?(l(),c("div",St,[t("img",{src:e.image_url,class:"first-img",alt:e.title},null,8,Ct),t("img",{src:e.image_url,style:{filter:"grayscale(1)"},alt:e.title,class:"hover-img"},null,8,It),e.tags?(l(),c("div",qt,[(l(!0),c(g,null,v(e.tags,a=>(l(),c("span",Nt,d(a.title),1))),256))])):p("",!0),e.stock!=n.getProductFromCart(e.id)?(l(),c("a",{key:1,onClick:_(a=>n.addToCart(e,!0),["prevent"]),href:"#",class:"addcart btn--primary style2"}," Add To Cart ",8,Ft)):(l(),c("p",Vt," Out Of Stock ")),t("div",Ot,[t("ul",null,[t("li",null,[n.ifInclude(e)?(l(),c("a",{key:0,onClick:_(a=>n.addToWishlist(e),["prevent"]),style:{background:"var(--thm-base)"},href:""},[Ut,h(),Tt],8,Lt)):(l(),c("a",{key:1,onClick:_(a=>n.addToWishlist(e),["prevent"]),href:""},[Jt,h(),Qt],8,jt))]),t("li",null,[t("a",{onClick:a=>n.getProduct(e.id),href:`#popup${e.id}`,class:"popup_link"},At,8,Et)])])])])):p("",!0),t("div",{id:`popup${e.id}`,class:"product-gird__quick-view-popup mfp-hide"},[s.popupProduct?(l(),c("div",Dt,[t("div",Wt,[t("div",Gt,[s.popupProduct.product_images.length==0?(l(),c("div",Mt,[t("div",Ht,[t("img",{src:s.popupProduct.image_url,alt:""},null,8,Kt)])])):p("",!0),s.popupProduct.product_images.length>2?(l(),c("div",Xt,[t("div",Yt,[t("div",Zt,[t("ul",null,[(l(!0),c(g,null,v(s.popupProduct.product_images,a=>(l(),c("li",$t,[t("a",{href:`#tabb${a.id}`},[t("img",{src:a.file_path,alt:""},null,8,ee)],8,te)]))),256))])]),t("div",se,[(l(!0),c(g,null,v(s.popupProduct.product_images,a=>(l(),c("div",{id:`tabb${a.id}`,class:"tab-item popup-product-image"},[t("div",oe,[t("img",{src:a.file_path,alt:""},null,8,le)])],8,ie))),256)),ce,ne])])])):p("",!0)]),t("div",ae,[t("div",re,[t("h3",null,d(s.popupProduct.title),1),t("p",de,d(s.popupProduct.description),1),t("div",ue,[t("h2",null,[h(" $"),t("span",pe,d(s.popupProduct.price),1),h(" USD "),t("del",null,d(parseInt(s.popupProduct.price)+10)+" USD",1)]),s.popupProduct.stock>0?(l(),c("h6",_e," In stock")):(l(),c("h6",he," Out of stock"))]),t("div",ge,[(l(!0),c(g,null,v(s.popupProduct.group,a=>(l(),c("a",{onClick:_(De=>n.getProduct(a.id),["prevent"]),style:y(`background: ${a.color};`),href:`#popup${a.id}`,class:"color-name"},[t("span",null,"color:"+d(a.color)+", size: "+d(a.size),1)],12,ve))),256))]),t("div",me,[s.popupProduct.stock>0?(l(),c("h6",fe,[h("Qty: "+d(s.popupProduct.stock-n.getProductFromCart(s.popupProduct.id)),1),be,h(" In cart "+d(n.getProductFromCart(s.popupProduct.id)),1)])):p("",!0),s.popupProduct.stock!=n.getProductFromCart(s.popupProduct.id)?(l(),c("div",ye,[t("div",{class:"qtySelector text-center","data-stock":s.popupProduct.stock,"data-cart-qty":n.getProductFromCart(s.popupProduct.id)},[t("span",{class:"decreaseQty",onClick:i[2]||(i[2]=_(a=>n.decreaseQty(a),["prevent"]))},xe),t("input",{type:"number",class:"qtyValue",value:s.value},null,8,Pe),t("span",{class:"increaseQty",onClick:i[3]||(i[3]=_(a=>n.increaseQty(a),["prevent"]))},Ce)],8,ke),s.popupProduct.stock!=n.getProductFromCart(s.popupProduct.id)?(l(),c("button",{key:0,class:"btn--primary",onClick:i[4]||(i[4]=_(a=>n.addToCart(s.popupProduct),["prevent"]))}," Add to Cart ")):p("",!0)])):(l(),c("div",Ie,Ne))])])])])])):p("",!0)],8,Bt),t("div",Fe,[t("span",null,[f(m,{to:{name:"categories.show",params:{id:e.category.id}}},{default:b(()=>[h(d(e.category.title),1)]),_:2},1032,["to"])]),t("h5",null,[f(m,{to:{name:"products.show",params:{id:e.id}}},{default:b(()=>[h(d(e.title),1)]),_:2},1032,["to"])]),t("p",null,[t("del",null,"$"+d(parseInt(e.price)+10),1),h(" $"),t("span",Ve,d(e.price),1)])])])]))),256))])])])])]),s.pagination.last_page>1?(l(),c("div",Oe,[t("div",Le,[t("ul",Ue,[s.pagination.current_page!==1?(l(),c("li",Te,[t("a",{onClick:i[5]||(i[5]=_(e=>n.getProducts(s.pagination.current_page-1),["prevent"])),href:""},Je)])):p("",!0),(l(!0),c(g,null,v(s.pagination.links,e=>(l(),c("li",null,[Number(e.label)&&s.pagination.current_page-e.label<2&&s.pagination.current_page-e.label>-2||Number(e.label)===1||Number(e.label)===s.pagination.last_page?(l(),c("a",{key:0,onClick:_(a=>n.getProducts(e.label),["prevent"]),class:C(e.active?"active":""),href:""},d(e.label),11,Qe)):p("",!0),Number(e.label)&&s.pagination.current_page!==3&&s.pagination.current_page-e.label===2||Number(e.label)&&s.pagination.current_page!==s.pagination.last_page-2&&s.pagination.current_page-e.label===-2?(l(),c("a",Ee,"...")):p("",!0)]))),256)),s.pagination.current_page!==s.pagination.last_page?(l(),c("li",ze,[t("a",{onClick:i[6]||(i[6]=_(e=>n.getProducts(s.pagination.current_page+1),["prevent"])),href:""},Ae)])):p("",!0)])])])):p("",!0)])])])])])])}const Me=k(q,[["render",Be]]);export{Me as default};
