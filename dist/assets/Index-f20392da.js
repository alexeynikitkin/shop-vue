import{_ as w,r as x,o as l,c,a as t,F as g,b as v,d as p,h as _,t as u,e as P,f as b,w as y,i as S,v as C,g as h,n as k,j as q,p as I,k as N}from"./index-2a1dbbfd.js";import{_ as V}from"./product-categories-v1-img1-901f2b2e.js";const F={name:"Index",mounted(){$(document).trigger("changed"),this.getProducts(),this.getFilterList(),this.getCats()},data(){return{products:[],popupProduct:null,filterList:[],categories:[],colors:[],tags:[],prices:[],pagination:[],attrs:[],value:1}},methods:{getProducts(i=1){this.axios.post("https://karte.studiopresto.dev/api/products",{categories:this.categories,tags:this.tags,prices:this.prices,colors:this.colors,page:i}).then(o=>{this.products=o.data.data,this.pagination=o.data.meta,$(document).trigger("changed"),console.log("Products",this.products)}).finally(o=>{$(document).trigger("changed")})},changePrice(i=null,o=null){if(i!==null&&o!==null){let r=parseFloat(o);$(".popup-right-content h2 .price").text(r.toFixed(2))}return parseFloat($(".popup-right-content h2 .price").text()).toFixed(2)},getProduct(i){this.axios.get(`https://karte.studiopresto.dev/api/products/${i}`).then(o=>{this.popupProduct=o.data.data}).finally(o=>{})},getFilterList(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(i=>{this.filterList=i.data,$("#price-range").length&&($("#price-range").slider({range:!0,min:this.filterList.price.min,max:this.filterList.price.max,values:[this.filterList.price.min,this.filterList.price.max],slide:function(o,r){$("#priceRange").val("$"+r.values[0]+" - $"+r.values[1])}}),$("#priceRange").val("$"+$("#price-range").slider("values",0)+" - $"+$("#price-range").slider("values",1)))}).finally(i=>{$(document).trigger("changed")})},getCats(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(i=>{this.attrs=i.data.categories}).finally(i=>{$(document).trigger("changed")})},filterProducts(){$(document).trigger("changed");let i=$("#priceRange").val();i=i.replace(/[\s+]|[$]/g,"").split("-"),this.prices=i,this.getProducts()},addColor(i){this.colors.includes(i)?this.colors=this.colors.filter(o=>o!==i):this.colors.push(i)},addTag(i){this.tags.includes(i)?this.tags=this.tags.filter(o=>o!==i):this.tags.push(i)},addToCart(i,o){localStorage.getItem("cart")==null&&localStorage.setItem("cart",[]),o&&$(".qtyValue").val(1);let r=localStorage.getItem("cart"),f=$(".qtyValue").val()?$(".qtyValue").val():1;$(".qtyValue").val(1);let e=[{id:i.id,image_url:i.image_url,title:i.title,price:i.price,qty:f,size:i.size,color:i.color,stock:i.stock}];r?(r=JSON.parse(r),r.forEach(n=>{n.id===i.id&&(n.qty=Number(n.qty)+Number(f),e=null)}),Array.prototype.push.apply(r,e),localStorage.setItem("cart",JSON.stringify(r))):(localStorage.setItem("cart",JSON.stringify(e)),$(".cart-icon span").text(e.length)),$(".cart-icon span").text(r.length),window.location.reload()},addToWishlist(i){localStorage.getItem("wishlist")==null&&localStorage.setItem("wishlist",[]);let o=localStorage.getItem("wishlist"),r=[{id:i.id,image_url:i.image_url,title:i.title,price:i.price,stock:i.stock,qty:i.qty}];o?(o=JSON.parse(o),this.ifInclude(i)||Array.prototype.push.apply(o,r),localStorage.setItem("wishlist",JSON.stringify(o))):localStorage.setItem("wishlist",JSON.stringify(r)),$(".wish-icon span").text(o.length),window.location.reload()},ifInclude(i){let o=localStorage.getItem("wishlist");o=JSON.parse(o);let r=!1;return o&&o.forEach(f=>{f.id===i.id&&(r=!0)}),r},getProductFromCart(i){if(localStorage.getItem("cart")!=null){var o=JSON.parse(localStorage.getItem("cart")).filter(f=>f.id==i);return Object.keys(o).length>0?o[0].qty:0}},increaseQty(){$(".qtySelector").attr("data-stock")==$(".qtySelector").attr("data-cart-qty")&&$(".qtySelector").find(".qtyValue").val(0),$(".qtySelector").each(function(){$(this).find(".increaseQty").on("click",function(){console.log("clicked++");let i=$(this).closest(".qtySelector").attr("data-stock"),o=$(this).closest(".qtySelector").attr("data-cart-qty");var r=$(this).closest(".qtySelector"),f=i-o,e=r.find(".qtyValue").val();e<f&&(e=parseInt(e)+1),r.find(".qtyValue").val(e)})})},decreaseQty(){$(".qtySelector").each(function(){$(this).find(".decreaseQty").on("click",function(){console.log("clicked--");var i=$(this).closest(".qtySelector"),o=i.find(".qtyValue").val();o>1&&(o=parseInt(o)-1),i.find(".qtyValue").val(o)})})}}},d=i=>(I("data-v-b42764cd"),i=i(),N(),i),O={class:"overflow-hidden"},L=P('<section class="breadcrumb-area" style="background-image:url(/src/assets/images/inner-pages/breadcum-bg.png);" data-v-b42764cd><div class="container" data-v-b42764cd><div class="row" data-v-b42764cd><div class="col-xl-12" data-v-b42764cd><div class="breadcrumb-content pb-60 text-center wow fadeInUp animated" data-v-b42764cd><h2 data-v-b42764cd>Shop Grid</h2><div class="breadcrumb-menu" data-v-b42764cd><ul data-v-b42764cd><li data-v-b42764cd><a href="index.html" data-v-b42764cd><i class="flaticon-home pe-2" data-v-b42764cd></i>Home</a></li><li data-v-b42764cd><i class="flaticon-next" data-v-b42764cd></i></li><li class="active" data-v-b42764cd>Shop Grid</li></ul></div></div></div></div></div></section>',1),U={class:"product-categories-one pb-60"},T={class:"container"},Q={class:"row wow fadeInUp animated"},j={class:"col-xl-12"},J={key:0,class:"product-categories-one__inner"},z={class:"inner"},R=["alt"],E={class:"title"},A={class:"product-grid pt-60 pb-120"},B={class:"container"},D={class:"row gx-4"},W={class:"col-xl-3 col-lg-4"},G={class:"shop-grid-sidebar"},M=d(()=>t("button",{class:"remove-sidebar d-lg-none d-block"},[t("i",{class:"flaticon-cross"})],-1)),H={class:"sidebar-holder"},K={class:"single-sidebar-box mt-30 wow fadeInUp animated"},X=d(()=>t("h4",null,"Select Categories",-1)),Y={class:"checkbox-item"},Z={class:"form-group"},tt=["value","id"],et=["for"],st={class:"single-sidebar-box mt-30 wow fadeInUp animated"},it=d(()=>t("h4",null,"Color Option ",-1)),ot={class:"color-option"},lt=["onClick","href"],ct={class:"single-sidebar-box mt-30 wow fadeInUp animated pb-0 border-bottom-0"},at=d(()=>t("h4",null,"Tags ",-1)),nt={class:"popular-tag"},rt=["onClick","href"],dt={class:"single-sidebar-box mt-30 wow fadeInUp animated"},ut=d(()=>t("h4",null,"Filter By Price",-1)),pt={class:"slider-box"},_t=d(()=>t("div",{id:"price-range",class:"slider"},null,-1)),ht=d(()=>t("div",{class:"output-price"},[t("label",{for:"priceRange"},"Price:"),h(),t("input",{type:"text",id:"priceRange",readonly:""})],-1)),gt={class:"col-xl-9 col-lg-8"},vt={class:"row"},ft={class:"col-xl-12"},mt={class:"shop-grid-page-top-info p-0 justify-content-md-between justify-content-center"},bt={class:"left-box wow fadeInUp animated"},yt=d(()=>t("div",{class:"right-box justify-content-md-between justify-content-center wow fadeInUp animated"},null,-1)),kt={class:"row"},wt={class:"col-12"},xt={class:"tab-content",id:"pills-tabContent"},Pt={class:"tab-pane fade show active",id:"pills-grid",role:"tabpanel","aria-labelledby":"pills-grid-tab"},St={class:"row"},Ct={class:"col-xl-4 col-lg-6 col-6"},qt={class:"products-three-single w-100 mt-30"},It={key:0,class:"products-three-single-img"},Nt=["src","alt"],Vt=["src","alt"],Ft={key:0,class:"products-grid-one__badge-box"},Ot={class:"bg_base badge new"},Lt=["onClick"],Ut={key:2,class:"addcart btn--primary style2"},Tt={class:"products-grid__usefull-links"},Qt=["onClick"],jt=d(()=>t("i",{class:"flaticon-heart"},null,-1)),Jt=d(()=>t("span",null," wishlist",-1)),zt=["onClick"],Rt=d(()=>t("i",{class:"flaticon-heart"},null,-1)),Et=d(()=>t("span",null," wishlist",-1)),At=["onClick","href"],Bt=d(()=>t("i",{class:"flaticon-visibility"},null,-1)),Dt=d(()=>t("span",null," quick view",-1)),Wt=[Bt,Dt],$t=["id"],Gt={key:0,class:"container"},Mt={class:"row justify-content-between align-items-center"},Ht={class:"col-lg-6"},Kt={key:0,class:"quick-view__left-content"},Xt={class:"popup-product-single-image"},Yt=["src"],Zt={key:1,class:"quick-view__left-content"},te={class:"tabs"},ee={class:"popup-product-thumb-box"},se={class:"tab-nav popup-product-thumb"},ie=["href"],oe=["src"],le={class:"popup-product-main-image-box"},ce=["id"],ae={class:"popup-product-single-image"},ne=["src"],re=d(()=>t("button",{class:"prev"},[t("i",{class:"flaticon-back"})],-1)),de=d(()=>t("button",{class:"next"},[t("i",{class:"flaticon-next"})],-1)),ue={class:"col-lg-6"},pe={class:"popup-right-content"},_e={class:"text"},he={class:"price"},ge={class:"price"},ve={key:0},fe={key:1},me={class:"color-varient"},be=["onClick","href"],ye={class:"add-product"},ke={key:0},we=d(()=>t("br",null,null,-1)),xe={key:1,class:"button-group"},Pe=["data-stock","data-cart-qty"],Se=d(()=>t("i",{class:"flaticon-minus"},null,-1)),Ce=[Se],qe=["value"],Ie=d(()=>t("i",{class:"flaticon-plus"},null,-1)),Ne=[Ie],Ve={key:2,class:"button-group"},Fe=d(()=>t("p",{class:"btn--primary"}," Out of Stock ",-1)),Oe=[Fe],Le={class:"products-three-single-content text-center"},Ue={class:"price"},Te={key:0,class:"row"},Qe={class:"col-12 d-flex justify-content-center wow fadeInUp animated"},je={class:"pagination text-center"},Je={key:0,class:"next"},ze=d(()=>t("i",{class:"flaticon-left-arrows","aria-hidden":"true"},null,-1)),Re=[ze],Ee=["onClick"],Ae={key:1},Be={key:1,class:"next"},De=d(()=>t("i",{class:"flaticon-next-1","aria-hidden":"true"},null,-1)),We=[De];function $e(i,o,r,f,e,n){const m=x("router-link");return l(),c("div",null,[t("main",O,[L,t("section",U,[t("div",T,[t("div",Q,[t("div",j,[e.attrs?(l(),c("div",J,[t("ul",null,[(l(!0),c(g,null,v(e.attrs,s=>(l(),c("li",null,[b(m,{to:{name:"categories.show",params:{id:s.id}},class:"img-box"},{default:y(()=>[t("div",z,[t("img",{src:V,alt:s.title},null,8,R)])]),_:2},1032,["to"]),t("div",E,[b(m,{to:{name:"categories.show",params:{id:s.id}}},{default:y(()=>[t("h6",null,u(s.title),1)]),_:2},1032,["to"])])]))),256))])])):p("",!0)])])])]),t("div",A,[t("div",B,[t("div",D,[t("div",W,[t("div",G,[M,t("div",H,[t("div",K,[X,t("div",Y,[t("form",null,[(l(!0),c(g,null,v(e.filterList.categories,s=>(l(),c("div",Z,[S(t("input",{value:s.id,"onUpdate:modelValue":o[0]||(o[0]=a=>e.categories=a),type:"checkbox",id:s.id},null,8,tt),[[C,e.categories]]),h(),t("label",{for:s.id},u(s.title),9,et)]))),256))])])]),t("div",st,[it,t("ul",ot,[(l(!0),c(g,null,v([...new Set(this.filterList.colors)],s=>(l(),c("li",null,[t("a",{onClick:_(a=>n.addColor(s),["prevent"]),href:`#${s}`,class:"color-option-single",style:k(`background: ${s}`)},[t("span",null,u(s),1)],12,lt)]))),256))])]),t("div",ct,[at,t("ul",nt,[(l(!0),c(g,null,v(e.filterList.tags,s=>(l(),c("li",null,[t("a",{onClick:_(a=>n.addTag(s.id),["prevent"]),href:`#${s.id}`},u(s.title),9,rt)]))),256))])]),t("div",dt,[ut,t("div",pt,[_t,ht,t("button",{onClick:o[1]||(o[1]=_(s=>n.filterProducts(),["prevent"])),class:"filterbtn",type:"submit"}," Filter ")])])])])]),t("div",gt,[t("div",vt,[t("div",ft,[t("div",mt,[t("div",bt,[t("p",null,"Showing "+u(e.products.length)+" of "+u(e.pagination.total)+" Results",1)]),yt])])]),t("div",kt,[t("div",wt,[t("div",xt,[t("div",Pt,[t("div",St,[(l(!0),c(g,null,v(e.products,s=>(l(),c("div",Ct,[t("div",qt,[s?(l(),c("div",It,[t("img",{src:s.image_url,class:"first-img",alt:s.title},null,8,Nt),t("img",{src:s.image_url,style:{filter:"grayscale(1)"},alt:s.title,class:"hover-img"},null,8,Vt),s.tags?(l(),c("div",Ft,[(l(!0),c(g,null,v(s.tags,a=>(l(),c("span",Ot,u(a.title),1))),256))])):p("",!0),s.stock!=n.getProductFromCart(s.id)?(l(),c("a",{key:1,onClick:_(a=>n.addToCart(s,!0),["prevent"]),href:"#",class:"addcart btn--primary style2"}," Add To Cart ",8,Lt)):(l(),c("p",Ut," Out Of Stock ")),t("div",Tt,[t("ul",null,[t("li",null,[n.ifInclude(s)?(l(),c("a",{key:0,onClick:_(a=>n.addToWishlist(s),["prevent"]),style:{background:"var(--thm-base)"},href:""},[jt,h(),Jt],8,Qt)):(l(),c("a",{key:1,onClick:_(a=>n.addToWishlist(s),["prevent"]),href:""},[Rt,h(),Et],8,zt))]),t("li",null,[t("a",{onClick:a=>n.getProduct(s.id),href:`#popup${s.id}`,class:"popup_link"},Wt,8,At)])])])])):p("",!0),t("div",{id:`popup${s.id}`,class:"product-gird__quick-view-popup mfp-hide"},[e.popupProduct?(l(),c("div",Gt,[t("div",Mt,[t("div",Ht,[e.popupProduct.product_images.length==0?(l(),c("div",Kt,[t("div",Xt,[t("img",{src:e.popupProduct.image_url,alt:""},null,8,Yt)])])):p("",!0),e.popupProduct.product_images.length>2?(l(),c("div",Zt,[t("div",te,[t("div",ee,[t("ul",null,[(l(!0),c(g,null,v(e.popupProduct.product_images,a=>(l(),c("li",se,[t("a",{href:`#tabb${a.id}`},[t("img",{src:a.file_path,alt:""},null,8,oe)],8,ie)]))),256))])]),t("div",le,[(l(!0),c(g,null,v(e.popupProduct.product_images,a=>(l(),c("div",{id:`tabb${a.id}`,class:"tab-item popup-product-image"},[t("div",ae,[t("img",{src:a.file_path,alt:""},null,8,ne)])],8,ce))),256)),re,de])])])):p("",!0)]),t("div",ue,[t("div",pe,[t("h3",null,u(e.popupProduct.title),1),t("p",_e,u(e.popupProduct.description),1),t("div",he,[t("h2",null,[h(" $"),t("span",ge,u(e.popupProduct.price),1),h(" USD "),t("del",null,u(parseInt(e.popupProduct.price)+10)+" USD",1)]),e.popupProduct.stock>0?(l(),c("h6",ve," In stock")):(l(),c("h6",fe," Out of stock"))]),t("div",me,[(l(!0),c(g,null,v(e.popupProduct.group,a=>(l(),c("a",{onClick:_(Ge=>n.getProduct(a.id),["prevent"]),style:k(`background: ${a.color};`),href:`#popup${a.id}`,class:"color-name"},[t("span",null,"color:"+u(a.color)+", size: "+u(a.size),1)],12,be))),256))]),t("div",ye,[e.popupProduct.stock>0?(l(),c("h6",ke,[h("Qty: "+u(e.popupProduct.stock),1),we,h(" In cart "+u(n.getProductFromCart(e.popupProduct.id)),1)])):p("",!0),e.popupProduct.stock!=n.getProductFromCart(e.popupProduct.id)?(l(),c("div",xe,[t("div",{class:"qtySelector text-center","data-stock":e.popupProduct.stock,"data-cart-qty":n.getProductFromCart(e.popupProduct.id)},[t("span",{class:"decreaseQty",onClick:o[2]||(o[2]=_(a=>n.increaseQty(),["prevent"]))},Ce),t("input",{type:"number",class:"qtyValue",value:e.value},null,8,qe),t("span",{class:"increaseQty",onClick:o[3]||(o[3]=_(a=>n.decreaseQty(),["prevent"]))},Ne)],8,Pe),e.popupProduct.stock!=n.getProductFromCart(e.popupProduct.id)?(l(),c("button",{key:0,class:"btn--primary",onClick:o[4]||(o[4]=_(a=>n.addToCart(e.popupProduct),["prevent"]))}," Add to Cart ")):p("",!0)])):(l(),c("div",Ve,Oe))])])])])])):p("",!0)],8,$t),t("div",Le,[t("span",null,[b(m,{to:{name:"categories.show",params:{id:s.category.id}}},{default:y(()=>[h(u(s.category.title),1)]),_:2},1032,["to"])]),t("h5",null,[b(m,{to:{name:"products.show",params:{id:s.id}}},{default:y(()=>[h(u(s.title),1)]),_:2},1032,["to"])]),t("p",null,[t("del",null,"$"+u(parseInt(s.price)+10),1),h(" $"),t("span",Ue,u(s.price),1)])])])]))),256))])])])])]),e.pagination.last_page>1?(l(),c("div",Te,[t("div",Qe,[t("ul",je,[e.pagination.current_page!==1?(l(),c("li",Je,[t("a",{onClick:o[5]||(o[5]=_(s=>n.getProducts(e.pagination.current_page-1),["prevent"])),href:""},Re)])):p("",!0),(l(!0),c(g,null,v(e.pagination.links,s=>(l(),c("li",null,[Number(s.label)&&e.pagination.current_page-s.label<2&&e.pagination.current_page-s.label>-2||Number(s.label)===1||Number(s.label)===e.pagination.last_page?(l(),c("a",{key:0,onClick:_(a=>n.getProducts(s.label),["prevent"]),class:q(s.active?"active":""),href:""},u(s.label),11,Ee)):p("",!0),Number(s.label)&&e.pagination.current_page!==3&&e.pagination.current_page-s.label===2||Number(s.label)&&e.pagination.current_page!==e.pagination.last_page-2&&e.pagination.current_page-s.label===-2?(l(),c("a",Ae,"...")):p("",!0)]))),256)),e.pagination.current_page!==e.pagination.last_page?(l(),c("li",Be,[t("a",{onClick:o[6]||(o[6]=_(s=>n.getProducts(e.pagination.current_page+1),["prevent"])),href:""},We)])):p("",!0)])])])):p("",!0)])])])])])])}const Ke=w(F,[["render",$e],["__scopeId","data-v-b42764cd"]]);export{Ke as default};
