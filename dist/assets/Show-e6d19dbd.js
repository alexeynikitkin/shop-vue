import{_ as k,r as b,o as l,c as i,a as t,t as d,d as p,F as y,b as v,h as m,g as h,n as w,l as S,w as f,f as P,p as q,k as C}from"./index-a7d940cf.js";const x="/assets/breadcum-bg-2e8a052f.png";const I={name:"Show",mounted(){$(document).trigger("changed"),this.getCats(),this.getCategory()},methods:{getCategory(s){this.axios.get(`https://karte.studiopresto.dev/api/categories/${this.$route.params.id}`).then(e=>{this.category=e.data.data,console.log(this.category)}).finally(e=>{$(document).trigger("changed")})},getCats(){this.axios.get("https://karte.studiopresto.dev/api/products/filters").then(s=>{this.attrs=s.data.categories}).finally(s=>{$(document).trigger("changed")})},addTag(s){this.tags.includes(s)?this.tags=this.tags.filter(e=>e!==s):this.tags.push(s)},addToCart(s,e){e&&$(".qtyValue").val(1);let a=localStorage.getItem("cart"),_=$(".qtyValue").val()?$(".qtyValue").val():1;$(".qtyValue").val(1);let o=[{id:s.id,image_url:s.image_url,title:s.title,price:s.price,qty:_,size:s.size,color:s.color}];a?(a=JSON.parse(a),a.forEach(r=>{r.id===s.id&&(r.qty=Number(r.qty)+Number(_),o=null)}),Array.prototype.push.apply(a,o),localStorage.setItem("cart",JSON.stringify(a)),$(".cart-icon span").text(a.length),window.location.reload()):(localStorage.setItem("cart",JSON.stringify(o)),$(".cart-icon span").text(o.length))},addToWishlist(s){let e=localStorage.getItem("wishlist"),a=[{id:s.id,image_url:s.image_url,title:s.title,price:s.price,stock:s.stock,qty:s.qty}];e?(e=JSON.parse(e),this.ifInclude(s)||Array.prototype.push.apply(e,a),localStorage.setItem("wishlist",JSON.stringify(e))):localStorage.setItem("wishlist",JSON.stringify(a)),window.location.reload()},ifInclude(s){let e=localStorage.getItem("wishlist");e=JSON.parse(e);let a=!1;return e&&e.forEach(_=>{_.id===s.id&&(a=!0)}),a},getProduct(s){this.axios.get(`https://karte.studiopresto.dev/api/products/${s}`).then(e=>{this.popupProduct=e.data.data}).finally(e=>{$(document).trigger("changed")})},getProductFromCart(s){if(localStorage.getItem("cart")!=null){var e=JSON.parse(localStorage.getItem("cart")).filter(_=>_.id==s);return Object.keys(e).length>0?e[0].qty:0}},increaseQty(s){let e=s.target;localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]"),$(e).closest(".qtySelector").attr("data-stock")==$(e).closest(".qtySelector").attr("data-cart-qty")&&$(e).closest(".qtySelector").find(".qtyValue").val(0);let a=$(e).closest(".qtySelector").attr("data-stock"),_=$(e).closest(".qtySelector").attr("data-cart-qty");var o=$(e).closest(".qtySelector"),r=a-_,g=o.find(".qtyValue").val();g<r&&(g=parseInt(g)+1),o.find(".qtyValue").val(g)},decreaseQty(s){let e=s.target;localStorage.getItem("cart")==null&&localStorage.setItem("cart","[]");var a=$(e).closest(".qtySelector"),_=a.find(".qtyValue").val();_>1&&(_=parseInt(_)-1),a.find(".qtyValue").val(_)}},data(){return{category:[],attrs:[],products:[],popupProduct:null,filterList:[],categories:[],colors:[],tags:[],prices:[],value:1}}},u=s=>(q("data-v-c4f448ae"),s=s(),C(),s),V={class:"overflow-hidden cat"},N={class:"breadcrumb-area",style:{"background-image":"url(/src/assets/images/inner-pages/breadcum-bg.png)"}},O={class:"container"},F={class:"row"},T={class:"col-xl-12"},J={class:"breadcrumb-content pb-60 text-center wow fadeInUp animated"},Q=u(()=>t("h2",null,"Shop Grid",-1)),E={class:"breadcrumb-menu"},U=u(()=>t("li",null,[t("a",{href:"/"},[t("i",{class:"flaticon-home pe-2"}),h("Home")])],-1)),z=u(()=>t("li",null,[t("i",{class:"flaticon-next"})],-1)),A={key:0,class:"active"},B={class:"product-categories-one pb-60"},W={class:"container"},D={class:"row"},j={class:"col-xl-12 wow fadeInUp animated"},L={key:0,class:"product-categories-one__inner"},G=["href"],H={class:"inner"},M=["alt"],K={key:0,class:"product-grid pt-60 pb-120"},R={class:"container"},X={class:"row"},Y={class:"col-xl-3 col-lg-4 col-6 wow fadeInUp animated"},Z={class:"products-three-single w-100 wow fadeInUp animated mt-30"},tt={key:0,class:"products-three-single-img"},et=["src","alt"],st=["src","alt"],ot={class:"products-grid-one__badge-box"},lt={class:"bg_base badge new"},it=["onClick"],ct={key:1,class:"addcart btn--primary style2"},at={class:"products-grid__usefull-links"},rt=["onClick"],nt=u(()=>t("i",{class:"flaticon-heart"},null,-1)),dt=u(()=>t("span",null," wishlist",-1)),ut=["onClick"],_t=u(()=>t("i",{class:"flaticon-heart"},null,-1)),pt=u(()=>t("span",null," wishlist",-1)),ht=["onClick","href"],gt=u(()=>t("i",{class:"flaticon-visibility"},null,-1)),mt=u(()=>t("span",null," quick view",-1)),yt=[gt,mt],vt=["id"],ft={key:0,class:"container"},kt={class:"row justify-content-between align-items-center"},bt={class:"col-lg-6"},wt={key:0,class:"quick-view__left-content"},St={class:"popup-product-single-image"},Pt=["src"],qt={key:1,class:"quick-view__left-content"},Ct={class:"tabs"},xt={class:"popup-product-thumb-box"},It={class:"tab-nav popup-product-thumb"},Vt=["href"],Nt=["src"],Ot={class:"popup-product-main-image-box"},Ft=["id"],Tt={class:"popup-product-single-image"},Jt=["src"],Qt=u(()=>t("button",{class:"prev"},[t("i",{class:"flaticon-back"})],-1)),Et=u(()=>t("button",{class:"next"},[t("i",{class:"flaticon-next"})],-1)),Ut={class:"col-lg-6"},zt={class:"popup-right-content"},At={class:"text"},Bt={class:"price"},Wt={class:"price"},Dt={key:0},jt={key:1},Lt={class:"color-varient"},Gt=["onClick","href"],Ht={class:"add-product"},Mt={key:0},Kt=u(()=>t("br",null,null,-1)),Rt={key:1,class:"button-group"},Xt=["data-stock","data-cart-qty"],Yt=u(()=>t("i",{class:"flaticon-minus"},null,-1)),Zt=[Yt],$t=["value"],te=u(()=>t("i",{class:"flaticon-plus"},null,-1)),ee=[te],se={key:2,class:"button-group"},oe=u(()=>t("p",{class:"btn--primary"}," Out of Stock ",-1)),le=[oe],ie={class:"products-three-single-content text-center"};function ce(s,e,a,_,o,r){const g=b("router-link");return l(),i("div",null,[t("main",V,[t("section",N,[t("div",O,[t("div",F,[t("div",T,[t("div",J,[Q,t("div",E,[t("ul",null,[U,z,o.category?(l(),i("li",A,d(o.category.title),1)):p("",!0)])])])])])])]),t("section",B,[t("div",W,[t("div",D,[t("div",j,[o.attrs?(l(),i("div",L,[t("ul",null,[(l(!0),i(y,null,v(o.attrs,c=>(l(),i("li",null,[t("a",{href:`/categories/${c.id}`,class:"img-box"},[t("div",H,[t("img",{src:x,alt:c.title},null,8,M)])],8,G),t("h6",null,d(c.title),1)]))),256))])])):p("",!0)])])])]),o.category?(l(),i("section",K,[t("div",R,[t("div",X,[(l(!0),i(y,null,v(o.category.products,c=>(l(),i("div",Y,[t("div",Z,[c?(l(),i("div",tt,[t("img",{src:c.image_url,class:"first-img",alt:c.title},null,8,et),t("img",{src:c.image_url,style:{filter:"grayscale(1)"},alt:c.title,class:"hover-img"},null,8,st),t("div",ot,[t("span",lt,d(c.category.title),1)]),c.stock!=0?(l(),i("a",{key:0,onClick:m(n=>r.addToCart(c,!0),["prevent"]),href:"#",class:"addcart btn--primary style2"}," Add To Cart ",8,it)):(l(),i("p",ct," Out Of Stock ")),t("div",at,[t("ul",null,[t("li",null,[r.ifInclude(c)?(l(),i("a",{key:0,onClick:m(n=>r.addToWishlist(c),["prevent"]),style:{background:"var(--thm-base)"},href:""},[nt,h(),dt],8,rt)):(l(),i("a",{key:1,onClick:m(n=>r.addToWishlist(c),["prevent"]),href:""},[_t,h(),pt],8,ut))]),t("li",null,[t("a",{onClick:n=>r.getProduct(c.id),href:`#popup${c.id}`,class:"popup_link"},yt,8,ht)])])])])):p("",!0),t("div",{id:`popup${c.id}`,class:"product-gird__quick-view-popup mfp-hide"},[o.popupProduct?(l(),i("div",ft,[t("div",kt,[t("div",bt,[o.popupProduct.product_images.length==0?(l(),i("div",wt,[t("div",St,[t("img",{src:o.popupProduct.image_url,alt:""},null,8,Pt)])])):p("",!0),o.popupProduct.product_images.length>2?(l(),i("div",qt,[t("div",Ct,[t("div",xt,[t("ul",null,[(l(!0),i(y,null,v(o.popupProduct.product_images,n=>(l(),i("li",It,[t("a",{href:`#tabb${n.id}`},[t("img",{src:n.file_path,alt:""},null,8,Nt)],8,Vt)]))),256))])]),t("div",Ot,[(l(!0),i(y,null,v(o.popupProduct.product_images,n=>(l(),i("div",{id:`tabb${n.id}`,class:"tab-item popup-product-image"},[t("div",Tt,[t("img",{src:n.file_path,alt:""},null,8,Jt)])],8,Ft))),256)),Qt,Et])])])):p("",!0)]),t("div",Ut,[t("div",zt,[t("h3",null,d(o.popupProduct.title),1),t("p",At,d(o.popupProduct.description),1),t("div",Bt,[t("h2",null,[h(" $"),t("span",Wt,d(o.popupProduct.price),1),h(" USD "),t("del",null,d(parseInt(o.popupProduct.price)+10)+" USD",1)]),o.popupProduct.stock>0?(l(),i("h6",Dt," In stock")):(l(),i("h6",jt," Out of stock"))]),t("div",Lt,[(l(!0),i(y,null,v(o.popupProduct.group,n=>(l(),i("a",{onClick:m(ae=>r.getProduct(n.id),["prevent"]),style:w(`background: ${n.color}; border: 1px solid #000;`),href:`#popup${n.id}`,class:"color-name"},[t("span",null,"color:"+d(n.color)+", size: "+d(n.size),1)],12,Gt))),256))]),t("div",Ht,[o.popupProduct.stock>0?(l(),i("h6",Mt,[h("Qty: "+d(o.popupProduct.stock-r.getProductFromCart(o.popupProduct.id)),1),Kt,h(" In cart "+d(r.getProductFromCart(o.popupProduct.id)),1)])):p("",!0),o.popupProduct.stock!=r.getProductFromCart(o.popupProduct.id)?(l(),i("div",Rt,[t("div",{class:"qtySelector text-center","data-stock":o.popupProduct.stock,"data-cart-qty":r.getProductFromCart(o.popupProduct.id)},[t("span",{class:"decreaseQty",onClick:e[0]||(e[0]=m(n=>r.decreaseQty(n),["prevent"]))},Zt),t("input",{type:"number",class:"qtyValue",value:o.value},null,8,$t),t("span",{class:"increaseQty",onClick:e[1]||(e[1]=m(n=>r.increaseQty(n),["prevent"]))},ee)],8,Xt),o.popupProduct.stock!=r.getProductFromCart(o.popupProduct.id)?(l(),i("button",{key:0,class:"btn--primary",onClick:e[2]||(e[2]=m(n=>r.addToCart(o.popupProduct),["prevent"]))}," Add to Cart ")):p("",!0)])):(l(),i("div",se,le))])])])])])):p("",!0)],8,vt),t("div",ie,[t("span",null,[c?(l(),S(g,{key:0,to:{name:"categories.show",params:{id:c.category.id}}},{default:f(()=>[h(d(c.category.title),1)]),_:2},1032,["to"])):p("",!0)]),t("h5",null,[P(g,{to:{name:"products.show",params:{id:c.id}}},{default:f(()=>[h(d(c.title),1)]),_:2},1032,["to"])]),t("p",null,[t("del",null,"$"+d(c.price),1),h(" $"+d(parseFloat(c.price)+10),1)])])])]))),256))])])])):p("",!0)])])}const ne=k(I,[["render",ce],["__scopeId","data-v-c4f448ae"]]);export{ne as default};
